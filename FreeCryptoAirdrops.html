<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Crypto Hub 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#5D5CDE',
                        secondary: '#FF4757',
                        accent: '#2ED573',
                        dark: '#181818',
                        darkCard: '#242424'
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .profile-bg {
            background: linear-gradient(135deg, #F59E0B 0%, #EAB308 50%, #D97706 100%);
        }
        .loader {
            border: 3px solid rgba(93, 92, 222, 0.2);
            border-left: 3px solid #5D5CDE;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .project-card {
            transition: all 0.3s ease;
        }
        .project-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .modal-backdrop {
            backdrop-filter: blur(4px);
        }
        .modal-content {
            max-height: 90vh;
            overflow-y: auto;
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-dark min-h-screen">
    <!-- Profile Section -->
    <div class="h-40 relative overflow-hidden mx-4 mt-4 rounded-2xl">
        <div class="absolute inset-0 bg-cover bg-center" 
             style="background-image: url('https://i.ibb.co/1fCXYQS9/developer-background-images.png')"></div>
        <div class="absolute inset-0 bg-gradient-to-t from-black/30 to-transparent"></div>
        
        <!-- Logo positioned on left side -->
        <div class="absolute bottom-3 left-3">
            <div class="relative">
                <div class="w-20 h-20 rounded-xl border-2 border-white bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center">
                    <i class="fas fa-coins text-white text-2xl"></i>
                </div>
                <div class="absolute -top-1 -right-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white flex items-center justify-center">
                    <i class="fas fa-check text-white text-xs"></i>
                </div>
            </div>
        </div>
    </div>

    <!-- Platform Details -->
    <div class="px-4 py-4">
        <!-- Platform Name & Info -->
        <div class="text-center mb-6">
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white mb-1">FREE CRYPTO HUB</h1>
            <p class="text-gray-600 dark:text-gray-400 mb-1">Mining & Airdrop Platform</p>
            <p class="text-sm text-gray-500 dark:text-gray-500">🚀 Free Crypto Projects 2025</p>
            
            <!-- Smaller Crypto Icons -->
            <div class="flex justify-center space-x-3 mt-3">
                <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white">
                    <i class="fab fa-bitcoin text-sm"></i>
                </div>
                <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white">
                    <i class="fab fa-ethereum text-sm"></i>
                </div>
                <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white">
                    <i class="fas fa-coins text-sm"></i>
                </div>
            </div>
        </div>

        <!-- Professional Stats -->
        <div class="grid grid-cols-3 gap-3 mb-4">
            <div class="bg-white dark:bg-darkCard rounded-lg border border-gray-200 dark:border-gray-700 p-3 text-center">
                <p class="text-xl font-bold text-primary" id="projectCount">0</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">Projects</p>
            </div>
            <div class="bg-white dark:bg-darkCard rounded-lg border border-gray-200 dark:border-gray-700 p-3 text-center">
                <p class="text-xl font-bold text-green-500">FREE</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">Cost</p>
            </div>
            <div class="bg-white dark:bg-darkCard rounded-lg border border-gray-200 dark:border-gray-700 p-3 text-center">
                <p class="text-xl font-bold text-orange-500">LIVE</p>
                <p class="text-xs text-gray-500 dark:text-gray-400">Status</p>
            </div>
        </div>

        <!-- Contact Section -->
        <div class="bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg p-3 mb-4">
            <div class="text-center text-white">
                <p class="text-sm font-medium mb-2">📞 Get Support & Updates</p>
                <div class="flex justify-center space-x-4">
                    <a href="https://t.me/freecryptohub2025" target="_blank" class="flex items-center bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs hover:bg-opacity-30 transition-colors">
                        <i class="fab fa-telegram mr-1"></i>
                        Telegram
                    </a>
                    <a href="https://wa.me/+923001234567" target="_blank" class="flex items-center bg-white bg-opacity-20 px-3 py-1 rounded-full text-xs hover:bg-opacity-30 transition-colors">
                        <i class="fab fa-whatsapp mr-1"></i>
                        WhatsApp
                    </a>
                </div>
            </div>
        </div>

        <!-- Platform Info -->
        <div class="bg-gray-100 dark:bg-gray-800 rounded-lg p-3 mb-4">
            <div class="flex items-center mb-2">
                <i class="fas fa-info-circle text-blue-500 mr-2 text-sm"></i>
                <h3 class="text-sm font-semibold text-gray-900 dark:text-white">Platform Features</h3>
            </div>
            <div class="grid grid-cols-2 gap-2 text-xs text-gray-600 dark:text-gray-300">
                <div class="flex items-center">
                    <i class="fas fa-check text-green-500 mr-1"></i>
                    Real-time Updates
                </div>
                <div class="flex items-center">
                    <i class="fas fa-check text-green-500 mr-1"></i>
                    Verified Projects
                </div>
                <div class="flex items-center">
                    <i class="fas fa-check text-green-500 mr-1"></i>
                    Free to Join
                </div>
                <div class="flex items-center">
                    <i class="fas fa-check text-green-500 mr-1"></i>
                    24/7 Support
                </div>
            </div>
        </div>

        <!-- Action Button -->
        <div class="mb-6">
            <button onclick="refreshProjects()" 
                    class="w-full bg-primary text-white py-3 px-4 rounded-lg text-center hover:bg-opacity-90 transition-colors font-medium">
                <i class="fas fa-sync-alt mr-2" id="refreshIcon"></i>Refresh Projects
            </button>
        </div>
    </div>

    <!-- Projects Section -->
    <div class="px-4 pb-8">
        <div class="flex items-center justify-between mb-4">
            <h2 class="text-lg font-semibold text-gray-900 dark:text-white">Crypto Projects</h2>
            <div class="text-xs text-gray-500 dark:text-gray-400" id="lastUpdated"></div>
        </div>

        <!-- Loading State -->
        <div id="loadingState" class="flex flex-col items-center justify-center py-8">
            <div class="loader mb-3"></div>
            <p class="text-gray-500 dark:text-gray-400 text-sm">Loading projects...</p>
        </div>

        <!-- Error State -->
        <div id="errorState" class="hidden flex flex-col items-center justify-center py-8">
            <i class="fas fa-exclamation-triangle text-secondary text-2xl mb-3"></i>
            <p class="text-gray-500 dark:text-gray-400 text-sm mb-3">Failed to load projects</p>
            <button onclick="loadProjects()" 
                    class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-opacity-90 transition-colors text-sm">
                Try Again
            </button>
        </div>

        <!-- Projects Grid -->
        <div id="projectsGrid" class="grid grid-cols-2 gap-3"></div>

        <!-- Empty State -->
        <div id="emptyState" class="hidden flex flex-col items-center justify-center py-8">
            <i class="fas fa-folder-open text-gray-400 text-2xl mb-3"></i>
            <p class="text-gray-500 dark:text-gray-400 text-sm">No projects found</p>
        </div>
    </div>

    <!-- Project Details Modal -->
    <div id="projectModal" class="fixed inset-0 bg-black bg-opacity-50 modal-backdrop hidden flex items-center justify-center z-50 p-4">
        <div class="bg-white dark:bg-darkCard rounded-xl shadow-xl modal-content w-full max-w-md">
            <!-- Modal Header -->
            <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white" id="modalTitle">Project Details</h3>
                <button onclick="closeModal()" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
            
            <!-- Modal Content -->
            <div class="p-4">
                <div class="flex items-center mb-4">
                    <img id="modalImage" src="" alt="" class="w-16 h-16 rounded-lg object-cover mr-4">
                    <div>
                        <h4 id="modalProjectName" class="font-semibold text-gray-900 dark:text-white"></h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400">Free Crypto Project</p>
                    </div>
                </div>
                
                <!-- Content Sections -->
                <div id="contentSections" class="space-y-4 mb-4">
                    <!-- Dynamic content sections will be added here -->
                </div>
                
                <div class="mb-4">
                    <div class="flex items-center mb-2">
                        <i class="fas fa-tags text-primary mr-2"></i>
                        <h5 class="text-sm font-semibold text-gray-900 dark:text-white">Project Features</h5>
                    </div>
                    <div id="modalTags" class="flex flex-wrap gap-2"></div>
                </div>
                
                <div class="flex space-x-3">
                    <button onclick="joinProject()" 
                            class="flex-1 bg-primary text-white py-3 px-4 rounded-lg hover:bg-opacity-90 transition-colors font-medium">
                        <i class="fas fa-external-link-alt mr-2"></i>Join Project
                    </button>
                    <button onclick="shareProject()" 
                            class="px-4 py-3 bg-gray-100 dark:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-500 transition-colors">
                        <i class="fas fa-share"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Additional Content Section -->
    <div class="px-4 pb-8">
        <div class="space-y-4">
            <!-- Platform Info -->
            <div class="bg-white dark:bg-darkCard rounded-xl p-4 border border-gray-100 dark:border-gray-700">
                <div class="flex items-center mb-3">
                    <i class="fas fa-shield-alt text-green-500 mr-3"></i>
                    <h3 class="font-semibold text-gray-900 dark:text-white">Verified Platform</h3>
                </div>
                <p class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed">
                    All crypto projects are verified and updated in real-time. Join thousands of users earning free cryptocurrency daily.
                </p>
            </div>

            <!-- Features Grid -->
            <div class="grid grid-cols-2 gap-3">
                <div class="bg-white dark:bg-darkCard rounded-xl p-4 text-center border border-gray-100 dark:border-gray-700">
                    <i class="fas fa-clock text-blue-500 text-2xl mb-2"></i>
                    <h4 class="font-semibold text-gray-900 dark:text-white text-sm mb-1">24/7 Active</h4>
                    <p class="text-xs text-gray-500 dark:text-gray-400">Always online</p>
                </div>
                
                <div class="bg-white dark:bg-darkCard rounded-xl p-4 text-center border border-gray-100 dark:border-gray-700">
                    <i class="fas fa-users text-purple-500 text-2xl mb-2"></i>
                    <h4 class="font-semibold text-gray-900 dark:text-white text-sm mb-1">Community</h4>
                    <p class="text-xs text-gray-500 dark:text-gray-400">Active users</p>
                </div>
            </div>

            <!-- How it Works -->
            <div class="bg-gradient-to-r from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-700 rounded-xl p-4 border border-gray-100 dark:border-gray-600">
                <h3 class="font-semibold text-gray-900 dark:text-white mb-3 flex items-center">
                    <i class="fas fa-lightbulb text-yellow-500 mr-2"></i>
                    How It Works
                </h3>
                <div class="space-y-2">
                    <div class="flex items-center text-sm text-gray-600 dark:text-gray-300">
                        <span class="w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-xs mr-3">1</span>
                        Browse available crypto projects
                    </div>
                    <div class="flex items-center text-sm text-gray-600 dark:text-gray-300">
                        <span class="w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-xs mr-3">2</span>
                        Click on any project to view details
                    </div>
                    <div class="flex items-center text-sm text-gray-600 dark:text-gray-300">
                        <span class="w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-xs mr-3">3</span>
                        Join project and start earning free crypto
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm text-gray-400">
                Real-time Crypto Projects • Updated Live
            </p>
        </div>
    </footer>

    <script>
        // Dark mode detection
        if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
            document.documentElement.classList.add('dark');
        }
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', event => {
            if (event.matches) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        });

        const CSV_URL = 'https://docs.google.com/spreadsheets/d/1x8I6Pf04D8TbGYXvOuhZK0gaUIN_Tux5SJOPBoMsT6Y/export?format=csv';

        function parseCSV(csvText) {
            console.log('Raw CSV data:', csvText.substring(0, 200) + '...');
            
            const lines = csvText.trim().split('\n');
            const projects = [];
            
            if (lines.length < 2) {
                console.log('No data found in CSV');
                return projects;
            }

            // Simple parsing - assume standard CSV format
            const headers = lines[0].split(',').map(h => h.trim().replace(/"/g, ''));
            console.log('Headers found:', headers);

            for (let i = 1; i < lines.length; i++) {
                const line = lines[i].trim();
                if (!line) continue;

                // Simple split by comma (for basic CSV)
                const values = line.split(',').map(v => v.trim().replace(/"/g, ''));
                
                if (values.length >= 3 && values[0]) { // At least name, logo, URL
                    const project = {
                        name: values[0] || '',
                        logo: values[1] || '',  
                        URL: values[2] || '',
                        Description: values[3] || ''
                    };
                    
                    console.log('Project added:', project.name, project.Description ? 'with description' : 'no description');
                    projects.push(project);
                }
            }
            
            console.log(`Total ${projects.length} projects loaded`);
            return projects;
        }

        let projectsData = [];
        let currentProject = null;

        function createProjectCard(project) {
            // Get short description for card preview
            const description = project.Description || project.description || '';
            const shortDesc = description ? description.split('|')[0].substring(0, 80) + '...' : 'Free Crypto Project';
            
            return `
                <div class="project-card bg-white dark:bg-darkCard rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden cursor-pointer" onclick="openProjectModal('${project.name}')">
                    <img src="${project.logo}" 
                         alt="${project.name}" 
                         class="w-full h-24 object-cover"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9Ijk2IiB2aWV3Qm94PSIwIDAgMTYwIDk2IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxyZWN0IHdpZHRoPSIxNjAiIGhlaWdodD0iOTYiIGZpbGw9IiNmM2Y0ZjYiLz48Y2lyY2xlIGN4PSI4MCIgY3k9IjQ4IiByPSIyMCIgZmlsbD0iIzk5OTk5OSIvPjwvc3ZnPg=='">
                    
                    <div class="p-4">
                        <h3 class="font-semibold text-gray-900 dark:text-white text-sm mb-2 line-clamp-1 leading-tight">
                            ${project.name}
                        </h3>
                        <p class="text-xs text-gray-500 dark:text-gray-400 line-clamp-3 leading-relaxed">
                            ${shortDesc}
                        </p>
                    </div>
                </div>
            `;
        }

        function openProjectModal(projectName) {
            const project = projectsData.find(p => p.name === projectName);
            if (!project) return;
            
            currentProject = project;
            
            document.getElementById('modalTitle').textContent = project.name;
            document.getElementById('modalProjectName').textContent = project.name;
            document.getElementById('modalImage').src = project.logo;
            document.getElementById('modalImage').alt = project.name;
            
            // Direct content display without section buttons
            const description = project.Description || project.description || '';
            const contentSections = document.getElementById('contentSections');
            
            if (description) {
                const lines = description.split('|').filter(line => line.trim());
                
                contentSections.innerHTML = `
                    <div class="text-sm text-gray-600 dark:text-gray-300 leading-relaxed">
                        ${lines.join('<br><br>')}
                    </div>
                `;
            } else {
                contentSections.innerHTML = `
                    <div class="text-sm text-gray-500 dark:text-gray-400 leading-relaxed">
                        This is a free crypto project. You can join this project to start earning cryptocurrency.
                    </div>
                `;
            }
            
            // Create tags without section header
            const tagsContainer = document.getElementById('modalTags');
            const tags = [];
            if (description.includes('#btc') || description.includes('bitcoin') || description.includes('Bitcoin')) {
                tags.push('<span class="bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 px-2 py-1 rounded-full text-xs font-medium"><i class="fab fa-bitcoin mr-1"></i>Bitcoin</span>');
            }
            if (description.includes('#ethereum') || description.includes('eth') || description.includes('Ethereum')) {
                tags.push('<span class="bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 px-2 py-1 rounded-full text-xs font-medium"><i class="fab fa-ethereum mr-1"></i>Ethereum</span>');
            }
            if (description.includes('mining') || description.includes('Mining')) {
                tags.push('<span class="bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full text-xs font-medium"><i class="fas fa-pickaxe mr-1"></i>Mining</span>');
            }
            if (description.includes('airdrop') || description.includes('Airdrop')) {
                tags.push('<span class="bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 px-2 py-1 rounded-full text-xs font-medium"><i class="fas fa-parachute-box mr-1"></i>Airdrop</span>');
            }
            if (description.includes('2025')) {
                tags.push('<span class="bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 px-2 py-1 rounded-full text-xs font-medium"><i class="fas fa-calendar mr-1"></i>2025</span>');
            }
            if (description.includes('Free') || description.includes('free')) {
                tags.push('<span class="bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full text-xs font-medium"><i class="fas fa-gift mr-1"></i>Free</span>');
            }
            
            tagsContainer.innerHTML = tags.join('') || '<span class="text-gray-500 text-xs">Crypto Project</span>';
            
            document.getElementById('projectModal').classList.remove('hidden');
        }

        function toggleSection(header) {
            const content = header.nextElementSibling;
            const icon = header.querySelector('#toggle-icon');
            
            if (content.style.display === 'none') {
                content.style.display = 'block';
                icon.style.transform = 'rotate(0deg)';
            } else {
                content.style.display = 'none';
                icon.style.transform = 'rotate(-90deg)';
            }
        }

        function closeModal() {
            document.getElementById('projectModal').classList.add('hidden');
            currentProject = null;
        }

        function joinProject(url = null) {
            const projectUrl = url || (currentProject ? currentProject.URL : null);
            if (projectUrl) {
                window.open(projectUrl, '_blank');
                closeModal();
            }
        }

        function shareProject() {
            if (currentProject) {
                if (navigator.share) {
                    navigator.share({
                        title: currentProject.name,
                        text: 'Check out this free crypto project!',
                        url: currentProject.URL
                    });
                } else {
                    // Fallback to copying to clipboard
                    navigator.clipboard.writeText(currentProject.URL);
                    // Show a simple notification
                    const button = event.target;
                    const originalText = button.innerHTML;
                    button.innerHTML = '<i class="fas fa-check"></i>';
                    setTimeout(() => {
                        button.innerHTML = originalText;
                    }, 1500);
                }
            }
        }

        function showAbout() {
            // Create a simple about modal
            const aboutModal = document.createElement('div');
            aboutModal.className = 'fixed inset-0 bg-black bg-opacity-50 modal-backdrop flex items-center justify-center z-50 p-4';
            aboutModal.innerHTML = `
                <div class="bg-white dark:bg-darkCard rounded-xl shadow-xl w-full max-w-md p-6">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-gradient-to-br from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-coins text-white text-2xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-2">Free Crypto Hub</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-4">
                            यह platform आपको मुफ्त crypto mining और airdrop projects provide करता है। 
                            सभी projects real-time में update होते रहते हैं।
                        </p>
                        <div class="flex justify-center space-x-3">
                            <button onclick="this.closest('.fixed').remove()" 
                                    class="bg-primary text-white px-4 py-2 rounded-lg hover:bg-opacity-90 transition-colors">
                                समझ गया
                            </button>
                        </div>
                    </div>
                </div>
            `;
            document.body.appendChild(aboutModal);
        }

        function refreshProjects() {
            const refreshIcon = document.getElementById('refreshIcon');
            refreshIcon.classList.add('fa-spin');
            
            setTimeout(() => {
                refreshIcon.classList.remove('fa-spin');
            }, 1000);
            
            loadProjects();
        }

        function showState(state) {
            document.getElementById('loadingState').classList.add('hidden');
            document.getElementById('projectsGrid').classList.add('hidden');
            document.getElementById('errorState').classList.add('hidden');
            document.getElementById('emptyState').classList.add('hidden');
            
            document.getElementById(state).classList.remove('hidden');
        }

        async function loadProjects() {
            try {
                showState('loadingState');
                
                const response = await fetch(CSV_URL);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const csvText = await response.text();
                const projects = parseCSV(csvText);
                
                const projectsGrid = document.getElementById('projectsGrid');
                projectsGrid.innerHTML = '';
                
                if (projects.length === 0) {
                    showState('emptyState');
                    document.getElementById('projectCount').textContent = '0';
                    return;
                }
                
                projectsData = projects;
                projectsGrid.innerHTML = projects.map(createProjectCard).join('');
                
                document.getElementById('projectCount').textContent = projects.length;
                showState('projectsGrid');
                
            } catch (error) {
                console.error('Error loading projects:', error);
                showState('errorState');
                document.getElementById('projectCount').textContent = '0';
            }
        }

        // Load projects on page load
        document.addEventListener('DOMContentLoaded', loadProjects);

        // Auto-refresh every 5 minutes
        setInterval(loadProjects, 5 * 60 * 1000);
    </script>
</body>
</html>
